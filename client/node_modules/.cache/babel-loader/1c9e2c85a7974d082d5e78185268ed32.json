{"ast":null,"code":"import _objectSpread from\"D:/webdev/Project/react/crypto-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import{Link,useHistory}from\"react-router-dom\";import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignIn=function SignIn(_ref){var form=_ref.form,setForm=_ref.setForm,errorMessage=_ref.errorMessage,setErrorMessage=_ref.setErrorMessage,setToken=_ref.setToken,isLogged=_ref.isLogged,setIsLogged=_ref.setIsLogged;var history=useHistory();var signIn=function signIn(){var auth=getAuth();signInWithEmailAndPassword(auth,form.email,form.password).then(function(userCredential){// Signed in\nsetToken(userCredential.user);setIsLogged(true);setForm(\"\");setErrorMessage(\"\");history.push(\"/dashboard\");}).catch(function(err){// Firebase error\nswitch(err.code){case\"auth/invalid-email\":errorMessage=\"Invalid email address.\";break;case\"auth/wrong-password\":errorMessage=\"Incorrect password.\";break;case\"auth/user-not-found\":errorMessage=\"User not found.\";break;case\"auth/too-many-requests\":errorMessage=\"Too many attempts. Please try again later.\";break;case\"auth/internal-error\":errorMessage=\"Internal error.\";break;default:return\"\";}// Custom error\nif(form.email===\"\"&&form.password===\"\"){errorMessage=\"Please enter email address and password.\";}else if(form.email===\"\"){errorMessage=\"Please enter email address.\";}else if(form.password===\"\"){errorMessage=\"Please enter password.\";}setErrorMessage(errorMessage);});};var signUp=function signUp(){setForm(\"\");setErrorMessage(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col h-screen bg-gray-100 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm p-6 m-auto bg-white rounded-md shadow-md dark:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center text-gray-700 dark:text-white\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6\",onSubmit:function onSubmit(e){e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.email,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},{email:e.target.value});});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:form.password,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},{password:e.target.value});});}}),errorMessage?/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-red-500 \",children:errorMessage}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:isLogged?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",to:\"/dashboard\",className:\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-green-500 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-green-700\",onClick:signIn,children:\"Successful!\"}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",to:\"/dashboard\",className:\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600\",onClick:signIn,children:\"Login\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-8 text-xs font-light text-center text-gray-400\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"ml-1 font-medium text-gray-700 dark:text-gray-200 hover:underline\",onClick:signUp,children:\"Sign Up\"})]})]})})});};export default SignIn;","map":{"version":3,"sources":["D:/webdev/Project/react/crypto-dashboard/client/src/pages/signinpage/SignIn.js"],"names":["React","Link","useHistory","getAuth","signInWithEmailAndPassword","SignIn","form","setForm","errorMessage","setErrorMessage","setToken","isLogged","setIsLogged","history","signIn","auth","email","password","then","userCredential","user","push","catch","err","code","signUp","e","preventDefault","prev","target","value"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,OAAT,CAAkBC,0BAAlB,KAAoD,eAApD,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAQT,IAPJC,CAAAA,IAOI,MAPJA,IAOI,CANJC,OAMI,MANJA,OAMI,CALJC,YAKI,MALJA,YAKI,CAJJC,eAII,MAJJA,eAII,CAHJC,QAGI,MAHJA,QAGI,CAFJC,QAEI,MAFJA,QAEI,CADJC,WACI,MADJA,WACI,CACJ,GAAIC,CAAAA,OAAO,CAAGX,UAAU,EAAxB,CAEA,GAAMY,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAMC,CAAAA,IAAI,CAAGZ,OAAO,EAApB,CACAC,0BAA0B,CAACW,IAAD,CAAOT,IAAI,CAACU,KAAZ,CAAmBV,IAAI,CAACW,QAAxB,CAA1B,CACGC,IADH,CACQ,SAACC,cAAD,CAAoB,CACxB;AACAT,QAAQ,CAACS,cAAc,CAACC,IAAhB,CAAR,CACAR,WAAW,CAAC,IAAD,CAAX,CACAL,OAAO,CAAC,EAAD,CAAP,CACAE,eAAe,CAAC,EAAD,CAAf,CACAI,OAAO,CAACQ,IAAR,CAAa,YAAb,EACD,CARH,EASGC,KATH,CASS,SAACC,GAAD,CAAS,CACd;AACA,OAAQA,GAAG,CAACC,IAAZ,EACE,IAAK,oBAAL,CACEhB,YAAY,CAAG,wBAAf,CACA,MACF,IAAK,qBAAL,CACEA,YAAY,CAAG,qBAAf,CACA,MACF,IAAK,qBAAL,CACEA,YAAY,CAAG,iBAAf,CACA,MACF,IAAK,wBAAL,CACEA,YAAY,CAAG,4CAAf,CACA,MACF,IAAK,qBAAL,CACEA,YAAY,CAAG,iBAAf,CACA,MACF,QACE,MAAO,EAAP,CAjBJ,CAoBA;AACA,GAAIF,IAAI,CAACU,KAAL,GAAe,EAAf,EAAqBV,IAAI,CAACW,QAAL,GAAkB,EAA3C,CAA+C,CAC7CT,YAAY,CAAG,0CAAf,CACD,CAFD,IAEO,IAAIF,IAAI,CAACU,KAAL,GAAe,EAAnB,CAAuB,CAC5BR,YAAY,CAAG,6BAAf,CACD,CAFM,IAEA,IAAIF,IAAI,CAACW,QAAL,GAAkB,EAAtB,CAA0B,CAC/BT,YAAY,CAAG,wBAAf,CACD,CAEDC,eAAe,CAACD,YAAD,CAAf,CACD,CAzCH,EA0CD,CA5CD,CA8CA,GAAMiB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBlB,OAAO,CAAC,EAAD,CAAP,CACAE,eAAe,CAAC,EAAD,CAAf,CACD,CAHD,CAKA,mBACE,sCACE,YAAK,SAAS,CAAC,qDAAf,uBACE,aAAK,SAAS,CAAC,2EAAf,wBACE,WAAI,SAAS,CAAC,kEAAd,qBADF,cAKE,cACE,SAAS,CAAC,MADZ,CAEE,QAAQ,CAAE,kBAACiB,CAAD,CAAO,CACfA,CAAC,CAACC,cAAF,GACD,CAJH,wBAME,oCACE,cACE,OAAO,CAAC,UADV,CAEE,SAAS,CAAC,gDAFZ,mBADF,cAOE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAErB,IAAI,CAACU,KAFd,CAGE,SAAS,CAAC,8MAHZ,CAIE,QAAQ,CAAE,kBAACU,CAAD,CAAO,CACfnB,OAAO,CAAC,SAACqB,IAAD,wCAAgBA,IAAhB,MAAsBZ,KAAK,CAAEU,CAAC,CAACG,MAAF,CAASC,KAAtC,IAAD,CAAP,CACD,CANH,EAPF,GANF,cAuBE,aAAK,SAAS,CAAC,MAAf,wBACE,cACE,OAAO,CAAC,UADV,CAEE,SAAS,CAAC,gDAFZ,sBADF,cAOE,cACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAExB,IAAI,CAACW,QAFd,CAGE,SAAS,CAAC,8MAHZ,CAIE,QAAQ,CAAE,kBAACS,CAAD,CAAO,CACfnB,OAAO,CAAC,SAACqB,IAAD,wCAAgBA,IAAhB,MAAsBX,QAAQ,CAAES,CAAC,CAACG,MAAF,CAASC,KAAzC,IAAD,CAAP,CACD,CANH,EAPF,CAeGtB,YAAY,cACX,cAAO,SAAS,CAAC,uBAAjB,UAA0CA,YAA1C,EADW,CAET,IAjBN,GAvBF,cA2CE,YAAK,SAAS,CAAC,MAAf,UACGG,QAAQ,cACP,eACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAC,YAFL,CAGE,SAAS,CAAC,gLAHZ,CAIE,OAAO,CAAEG,MAJX,yBADO,cAUP,eACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAC,YAFL,CAGE,SAAS,CAAC,8KAHZ,CAIE,OAAO,CAAEA,MAJX,mBAXJ,EA3CF,GALF,cAuEE,WAAG,SAAS,CAAC,mDAAb,iDAEE,KAAC,IAAD,EACE,EAAE,CAAC,SADL,CAEE,SAAS,CAAC,mEAFZ,CAGE,OAAO,CAAEW,MAHX,qBAFF,GAvEF,GADF,EADF,EADF,CAwFD,CAtJD,CAwJA,cAAepB,CAAAA,MAAf","sourcesContent":["import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nconst SignIn = ({\r\n  form,\r\n  setForm,\r\n  errorMessage,\r\n  setErrorMessage,\r\n  setToken,\r\n  isLogged,\r\n  setIsLogged,\r\n}) => {\r\n  let history = useHistory();\r\n\r\n  const signIn = () => {\r\n    const auth = getAuth();\r\n    signInWithEmailAndPassword(auth, form.email, form.password)\r\n      .then((userCredential) => {\r\n        // Signed in\r\n        setToken(userCredential.user);\r\n        setIsLogged(true);\r\n        setForm(\"\");\r\n        setErrorMessage(\"\");\r\n        history.push(\"/dashboard\");\r\n      })\r\n      .catch((err) => {\r\n        // Firebase error\r\n        switch (err.code) {\r\n          case \"auth/invalid-email\":\r\n            errorMessage = \"Invalid email address.\";\r\n            break;\r\n          case \"auth/wrong-password\":\r\n            errorMessage = \"Incorrect password.\";\r\n            break;\r\n          case \"auth/user-not-found\":\r\n            errorMessage = \"User not found.\";\r\n            break;\r\n          case \"auth/too-many-requests\":\r\n            errorMessage = \"Too many attempts. Please try again later.\";\r\n            break;\r\n          case \"auth/internal-error\":\r\n            errorMessage = \"Internal error.\";\r\n            break;\r\n          default:\r\n            return \"\";\r\n        }\r\n\r\n        // Custom error\r\n        if (form.email === \"\" && form.password === \"\") {\r\n          errorMessage = \"Please enter email address and password.\";\r\n        } else if (form.email === \"\") {\r\n          errorMessage = \"Please enter email address.\";\r\n        } else if (form.password === \"\") {\r\n          errorMessage = \"Please enter password.\";\r\n        }\r\n\r\n        setErrorMessage(errorMessage);\r\n      });\r\n  };\r\n\r\n  const signUp = () => {\r\n    setForm(\"\");\r\n    setErrorMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col h-screen bg-gray-100 dark:bg-gray-800\">\r\n        <div className=\"w-full max-w-sm p-6 m-auto bg-white rounded-md shadow-md dark:bg-gray-800\">\r\n          <h1 className=\"text-3xl font-semibold text-center text-gray-700 dark:text-white\">\r\n            Sign In\r\n          </h1>\r\n\r\n          <form\r\n            className=\"mt-6\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div>\r\n              <label\r\n                htmlFor=\"username\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={form.email}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setForm((prev) => ({ ...prev, email: e.target.value }));\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={form.password}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setForm((prev) => ({ ...prev, password: e.target.value }));\r\n                }}\r\n              />\r\n              {errorMessage ? (\r\n                <label className=\"text-xs text-red-500 \">{errorMessage}</label>\r\n              ) : null}\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n              {isLogged ? (\r\n                <button\r\n                  type=\"submit\"\r\n                  to=\"/dashboard\"\r\n                  className=\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-green-500 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-green-700\"\r\n                  onClick={signIn}\r\n                >\r\n                  Successful!\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"submit\"\r\n                  to=\"/dashboard\"\r\n                  className=\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600\"\r\n                  onClick={signIn}\r\n                >\r\n                  Login\r\n                </button>\r\n              )}\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"mt-8 text-xs font-light text-center text-gray-400\">\r\n            Don't have an account?\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"ml-1 font-medium text-gray-700 dark:text-gray-200 hover:underline\"\r\n              onClick={signUp}\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}