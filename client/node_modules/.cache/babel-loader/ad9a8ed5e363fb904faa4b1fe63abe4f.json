{"ast":null,"code":"import React from\"react\";import{Link,useHistory}from\"react-router-dom\";import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignIn=function SignIn(_ref){var isLogged=_ref.isLogged,setIsLogged=_ref.setIsLogged,user=_ref.user,setUser=_ref.setUser,email=_ref.email,setEmail=_ref.setEmail,password=_ref.password,setPassword=_ref.setPassword,errorMessage=_ref.errorMessage,setErrorMessage=_ref.setErrorMessage;var history=useHistory();var signIn=function signIn(){var auth=getAuth();signInWithEmailAndPassword(auth,email,password).then(function(userCredential){// Signed in\nsetUser(userCredential.user);setIsLogged(true);history.push(\"/dashboard\");setEmail(\"\");setPassword(\"\");setErrorMessage(\"\");}).catch(function(err){// Firebase error\nswitch(err.code){case\"auth/invalid-email\":errorMessage=\"Invalid email address.\";break;case\"auth/wrong-password\":errorMessage=\"Incorrect password.\";break;case\"auth/user-not-found\":errorMessage=\"User not found.\";break;case\"auth/too-many-requests\":errorMessage=\"Too many attempts. Please try again later.\";break;case\"auth/internal-error\":errorMessage=\"Internal error.\";break;default:return\"\";}// Custom error\nif(email===\"\"&&password===\"\"){errorMessage=\"Please enter email address and password.\";}else if(email===\"\"){errorMessage=\"Please enter email address.\";}else if(password===\"\"){errorMessage=\"Please enter password.\";}setErrorMessage(errorMessage);});};var signUp=function signUp(){setEmail(\"\");setPassword(\"\");setErrorMessage(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col h-screen bg-gray-100 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm p-6 m-auto bg-white rounded-md shadow-md dark:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center text-gray-700 dark:text-white\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6\",onSubmit:function onSubmit(e){e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setPassword(e.target.value);}}),errorMessage?/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-red-500 \",children:errorMessage}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:isLogged?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",to:\"/dashboard\",className:\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-green-500 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-green-700\",onClick:signIn,children:\"Successful!\"}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",to:\"/dashboard\",className:\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600\",onClick:signIn,children:\"Login\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-8 text-xs font-light text-center text-gray-400\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"ml-1 font-medium text-gray-700 dark:text-gray-200 hover:underline\",onClick:signUp,children:\"Sign Up\"})]})]})})});};export default SignIn;","map":{"version":3,"sources":["D:/webdev/Project/react/crypto-dashboard/client/src/components/account/SignIn.js"],"names":["React","Link","useHistory","getAuth","signInWithEmailAndPassword","SignIn","isLogged","setIsLogged","user","setUser","email","setEmail","password","setPassword","errorMessage","setErrorMessage","history","signIn","auth","then","userCredential","push","catch","err","code","signUp","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nconst SignIn = ({\r\n  isLogged,\r\n  setIsLogged,\r\n  user,\r\n  setUser,\r\n  email,\r\n  setEmail,\r\n  password,\r\n  setPassword,\r\n  errorMessage,\r\n  setErrorMessage,\r\n}) => {\r\n  let history = useHistory();\r\n\r\n  const signIn = () => {\r\n    const auth = getAuth();\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        // Signed in\r\n        setUser(userCredential.user);\r\n        setIsLogged(true);\r\n        history.push(\"/dashboard\");\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        setErrorMessage(\"\");\r\n      })\r\n      .catch((err) => {\r\n        // Firebase error\r\n        switch (err.code) {\r\n          case \"auth/invalid-email\":\r\n            errorMessage = \"Invalid email address.\";\r\n            break;\r\n          case \"auth/wrong-password\":\r\n            errorMessage = \"Incorrect password.\";\r\n            break;\r\n          case \"auth/user-not-found\":\r\n            errorMessage = \"User not found.\";\r\n            break;\r\n          case \"auth/too-many-requests\":\r\n            errorMessage = \"Too many attempts. Please try again later.\";\r\n            break;\r\n          case \"auth/internal-error\":\r\n            errorMessage = \"Internal error.\";\r\n            break;\r\n          default:\r\n            return \"\";\r\n        }\r\n\r\n        // Custom error\r\n        if (email === \"\" && password === \"\") {\r\n          errorMessage = \"Please enter email address and password.\";\r\n        } else if (email === \"\") {\r\n          errorMessage = \"Please enter email address.\";\r\n        } else if (password === \"\") {\r\n          errorMessage = \"Please enter password.\";\r\n        }\r\n\r\n        setErrorMessage(errorMessage);\r\n      });\r\n  };\r\n\r\n  const signUp = () => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setErrorMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col h-screen bg-gray-100 dark:bg-gray-800\">\r\n        <div className=\"w-full max-w-sm p-6 m-auto bg-white rounded-md shadow-md dark:bg-gray-800\">\r\n          <h1 className=\"text-3xl font-semibold text-center text-gray-700 dark:text-white\">\r\n            Sign In\r\n          </h1>\r\n\r\n          <form\r\n            className=\"mt-6\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div>\r\n              <label\r\n                htmlFor=\"username\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={email}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={password}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n              />\r\n              {errorMessage ? (\r\n                <label className=\"text-xs text-red-500 \">{errorMessage}</label>\r\n              ) : null}\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n              {isLogged ? (\r\n                <button\r\n                  type=\"submit\"\r\n                  to=\"/dashboard\"\r\n                  className=\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-green-500 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-green-700\"\r\n                  onClick={signIn}\r\n                >\r\n                  Successful!\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"submit\"\r\n                  to=\"/dashboard\"\r\n                  className=\"w-full px-4 py-2 tracking-wide text-center text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600\"\r\n                  onClick={signIn}\r\n                >\r\n                  Login\r\n                </button>\r\n              )}\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"mt-8 text-xs font-light text-center text-gray-400\">\r\n            Don't have an account?\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"ml-1 font-medium text-gray-700 dark:text-gray-200 hover:underline\"\r\n              onClick={signUp}\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}