{"ast":null,"code":"var _jsxFileName = \"D:\\\\webdev\\\\Project\\\\react\\\\crypto-dashboard\\\\client\\\\src\\\\components\\\\searchbar\\\\SearchBar.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport SearchBarResult from \"./SearchBarResult.jsx\";\nimport ClickAwayListener from \"react-click-away-listener\"; // Services\n\nimport { useGetCoinsQuery } from \"../../services/cryptoApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SearchBar = () => {\n  _s();\n\n  var _coinrankingApi$data;\n\n  const [search, setSearch] = useState(\"\"); // Coinranking API call\n\n  const {\n    data: coinrankingApi,\n    isFetching: isCoinsFetching\n  } = useGetCoinsQuery();\n  const coins = coinrankingApi === null || coinrankingApi === void 0 ? void 0 : (_coinrankingApi$data = coinrankingApi.data) === null || _coinrankingApi$data === void 0 ? void 0 : _coinrankingApi$data.coins; // Find matched results between input value and API data\n\n  const filteredCoins = coins === null || coins === void 0 ? void 0 : coins.filter(coin => coin.name.toLowerCase().includes(search.toLowerCase()) || coin.symbol.toLowerCase().includes(search.toLowerCase()));\n\n  const handleChange = e => {\n    setSearch(e.target.value);\n  };\n\n  const handleClickAway = () => {\n    setSearch(\"\");\n    const input = document.getElementById(\"search\");\n    input.value = \"\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"relative hidden w-full max-w-lg mx-auto 2xl:block\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute inset-y-0 left-0 flex items-center pl-5\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5 text-gray-400 dark:text-gray-400\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"search\",\n        maxLength: \"27\",\n        className: \"w-full py-3 pl-12 pr-4 text-gray-600 placeholder-gray-400 bg-gray-100 rounded-xl dark:placeholder-gray-400 dark:bg-tertiary dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",\n        placeholder: \"Search Crypto\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), !isCoinsFetching && search && (search === null || search === void 0 ? void 0 : search.length) !== 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute inset-y-0 right-0 flex items-center pr-5\",\n        onClick: handleClickAway,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"w-5 h-5 text-gray-400 dark:text-gray-400\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M6 18L18 6M6 6l12 12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : null, !isCoinsFetching && search && filteredCoins.length !== 0 ?\n      /*#__PURE__*/\n      // Search result will show only when input field is not empty and match result is returned.\n      _jsxDEV(ClickAwayListener, {\n        onClickAway: handleClickAway,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-x-0 z-10 mt-4 overflow-y-auto bg-white border border-gray-300 rounded-2xl max-h-72 dark:bg-secondary dark:border-transparent\",\n          children: filteredCoins.map((result, index) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(SearchBarResult, {\n                result: result,\n                id: result.uuid,\n                icon: result.iconUrl,\n                name: result.name,\n                symbol: result.symbol,\n                setSearch: setSearch\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 21\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(SearchBar, \"B9k3B8H0D3BoMwvOaOMoTqgf2kw=\", false, function () {\n  return [useGetCoinsQuery];\n});\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"sources":["D:/webdev/Project/react/crypto-dashboard/client/src/components/searchbar/SearchBar.jsx"],"names":["useState","SearchBarResult","ClickAwayListener","useGetCoinsQuery","SearchBar","search","setSearch","data","coinrankingApi","isFetching","isCoinsFetching","coins","filteredCoins","filter","coin","name","toLowerCase","includes","symbol","handleChange","e","target","value","handleClickAway","input","document","getElementById","length","map","result","index","uuid","iconUrl"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport SearchBarResult from \"./SearchBarResult.jsx\";\r\nimport ClickAwayListener from \"react-click-away-listener\";\r\n\r\n// Services\r\nimport { useGetCoinsQuery } from \"../../services/cryptoApi\";\r\n\r\nconst SearchBar = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  // Coinranking API call\r\n  const { data: coinrankingApi, isFetching: isCoinsFetching } =\r\n    useGetCoinsQuery();\r\n\r\n  const coins = coinrankingApi?.data?.coins;\r\n\r\n  // Find matched results between input value and API data\r\n  const filteredCoins = coins?.filter(\r\n    (coin) =>\r\n      coin.name.toLowerCase().includes(search.toLowerCase()) ||\r\n      coin.symbol.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  const handleChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setSearch(\"\");\r\n\r\n    const input = document.getElementById(\"search\");\r\n    input.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"relative hidden w-full max-w-lg mx-auto 2xl:block\">\r\n        <span className=\"absolute inset-y-0 left-0 flex items-center pl-5\">\r\n          <svg\r\n            className=\"w-5 h-5 text-gray-400 dark:text-gray-400\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n          >\r\n            <path\r\n              d=\"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            ></path>\r\n          </svg>\r\n        </span>\r\n        <input\r\n          type=\"text\"\r\n          id=\"search\"\r\n          maxLength=\"27\"\r\n          className=\"w-full py-3 pl-12 pr-4 text-gray-600 placeholder-gray-400 bg-gray-100 rounded-xl dark:placeholder-gray-400 dark:bg-tertiary dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n          placeholder=\"Search Crypto\"\r\n          onChange={handleChange}\r\n        />\r\n        {!isCoinsFetching && search && search?.length !== 0 ? (\r\n          <span\r\n            className=\"absolute inset-y-0 right-0 flex items-center pr-5\"\r\n            onClick={handleClickAway}\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"w-5 h-5 text-gray-400 dark:text-gray-400\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M6 18L18 6M6 6l12 12\"\r\n              />\r\n            </svg>\r\n          </span>\r\n        ) : null}\r\n\r\n        {!isCoinsFetching && search && filteredCoins.length !== 0 ? ( // Search result will show only when input field is not empty and match result is returned.\r\n          <ClickAwayListener onClickAway={handleClickAway}>\r\n            <div className=\"absolute inset-x-0 z-10 mt-4 overflow-y-auto bg-white border border-gray-300 rounded-2xl max-h-72 dark:bg-secondary dark:border-transparent\">\r\n              {filteredCoins.map((result, index) => {\r\n                return (\r\n                  <>\r\n                    <SearchBarResult\r\n                      key={index}\r\n                      result={result}\r\n                      id={result.uuid}\r\n                      icon={result.iconUrl}\r\n                      name={result.name}\r\n                      symbol={result.symbol}\r\n                      setSearch={setSearch}\r\n                    />\r\n                  </>\r\n                );\r\n              })}\r\n            </div>\r\n          </ClickAwayListener>\r\n        ) : null}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"]},"metadata":{},"sourceType":"module"}