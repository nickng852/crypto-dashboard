{"ast":null,"code":"import _objectSpread from\"D:/webdev/Project/react/crypto-dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import{Link,useHistory}from\"react-router-dom\";import{getAuth,createUserWithEmailAndPassword}from\"firebase/auth\";import{doc,setDoc,Timestamp}from\"firebase/firestore\";import{db}from\"../../firebase/firebase.config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUp=function SignUp(_ref){var form=_ref.form,setForm=_ref.setForm,errorMessage=_ref.errorMessage,setErrorMessage=_ref.setErrorMessage,setToken=_ref.setToken;var history=useHistory();var signUp=function signUp(){var auth=getAuth();createUserWithEmailAndPassword(auth,form.email,form.password).then(function(userCredential){// Actions on sign up in front-end\nsetForm(\"\");setErrorMessage(\"\");history.push(\"/\");// Add user data to Firestore\nvar docData={uid:userCredential.user.uid,createDate:Timestamp.fromDate(new Date()),name:form.name,email:form.email};setDoc(doc(db,\"users\",userCredential.user.uid),docData);}).catch(function(err){// Firebase error\nswitch(err.code){case\"auth/invalid-email\":errorMessage=\"Invalid email address.\";break;case\"auth/weak-password\":errorMessage=\"Password should be at least 6 characters.\";break;case\"auth/email-already-in-use\":errorMessage=\"Email is already in use.\";break;case\"auth/internal-error\":errorMessage=\"Internal error.\";break;default:return\"\";}// Custom error\nif(form.name===\"\"&&form.email===\"\"&&form.password===\"\"){errorMessage=\"Please answer all the fields.\";}else if(form.email===\"\"&&form.password===\"\"){errorMessage=\"Please enter email address and password.\";}else if(form.email===\"\"){errorMessage=\"Please enter email address.\";}else if(form.password===\"\"){errorMessage=\"Please enter password.\";}setErrorMessage(errorMessage);});};var signIn=function signIn(){setForm(\"\");setErrorMessage(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col h-screen bg-gray-100 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm p-6 m-auto bg-white rounded-md shadow-md dark:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center text-gray-700 dark:text-white\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6\",onSubmit:function onSubmit(e){e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.name,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:e.target.value});});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.email,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},{email:e.target.value});});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm text-gray-800 dark:text-gray-200\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:form.password,className:\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\",onChange:function onChange(e){setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},{password:e.target.value});});}}),errorMessage&&/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-red-500 \",children:errorMessage})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600\",onClick:signUp,children:\"Sign Up\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-8 text-xs font-light text-center text-gray-400\",children:[\"Already have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"ml-1 font-medium text-gray-700 dark:text-gray-200 hover:underline\",onClick:signIn,children:\"Log In\"})]})]})})});};export default SignUp;","map":{"version":3,"sources":["D:/webdev/Project/react/crypto-dashboard/client/src/pages/signuppage/SignUp.js"],"names":["React","Link","useHistory","getAuth","createUserWithEmailAndPassword","doc","setDoc","Timestamp","db","SignUp","form","setForm","errorMessage","setErrorMessage","setToken","history","signUp","auth","email","password","then","userCredential","push","docData","uid","user","createDate","fromDate","Date","name","catch","err","code","signIn","e","preventDefault","prev","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { doc, setDoc, Timestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../firebase/firebase.config\";\r\n\r\nconst SignUp = ({ form, setForm, errorMessage, setErrorMessage, setToken }) => {\r\n  let history = useHistory();\r\n\r\n  const signUp = () => {\r\n    const auth = getAuth();\r\n\r\n    createUserWithEmailAndPassword(auth, form.email, form.password)\r\n      .then((userCredential) => {\r\n        // Actions on sign up in front-end\r\n        setForm(\"\");\r\n        setErrorMessage(\"\");\r\n        history.push(\"/\");\r\n\r\n        // Add user data to Firestore\r\n        const docData = {\r\n          uid: userCredential.user.uid,\r\n          createDate: Timestamp.fromDate(new Date()),\r\n          name: form.name,\r\n          email: form.email,\r\n        };\r\n\r\n        setDoc(doc(db, \"users\", userCredential.user.uid), docData);\r\n      })\r\n      .catch((err) => {\r\n        // Firebase error\r\n        switch (err.code) {\r\n          case \"auth/invalid-email\":\r\n            errorMessage = \"Invalid email address.\";\r\n            break;\r\n          case \"auth/weak-password\":\r\n            errorMessage = \"Password should be at least 6 characters.\";\r\n            break;\r\n          case \"auth/email-already-in-use\":\r\n            errorMessage = \"Email is already in use.\";\r\n            break;\r\n          case \"auth/internal-error\":\r\n            errorMessage = \"Internal error.\";\r\n            break;\r\n          default:\r\n            return \"\";\r\n        }\r\n\r\n        // Custom error\r\n        if (form.name === \"\" && form.email === \"\" && form.password === \"\") {\r\n          errorMessage = \"Please answer all the fields.\";\r\n        } else if (form.email === \"\" && form.password === \"\") {\r\n          errorMessage = \"Please enter email address and password.\";\r\n        } else if (form.email === \"\") {\r\n          errorMessage = \"Please enter email address.\";\r\n        } else if (form.password === \"\") {\r\n          errorMessage = \"Please enter password.\";\r\n        }\r\n\r\n        setErrorMessage(errorMessage);\r\n      });\r\n  };\r\n\r\n  const signIn = () => {\r\n    setForm(\"\");\r\n    setErrorMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col h-screen bg-gray-100 dark:bg-gray-800\">\r\n        <div className=\"w-full max-w-sm p-6 m-auto bg-white rounded-md shadow-md dark:bg-gray-800\">\r\n          <h1 className=\"text-3xl font-semibold text-center text-gray-700 dark:text-white\">\r\n            Sign Up\r\n          </h1>\r\n\r\n          <form\r\n            className=\"mt-6\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={form.name}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setForm((prev) => ({ ...prev, name: e.target.value }));\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={form.email}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setForm((prev) => ({ ...prev, email: e.target.value }));\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm text-gray-800 dark:text-gray-200\"\r\n              >\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={form.password}\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n                onChange={(e) => {\r\n                  setForm((prev) => ({ ...prev, password: e.target.value }));\r\n                }}\r\n              />\r\n              {errorMessage && (\r\n                <label className=\"text-xs text-red-500 \">{errorMessage}</label>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600\"\r\n                onClick={signUp}\r\n              >\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"mt-8 text-xs font-light text-center text-gray-400\">\r\n            Already have an account?\r\n            <Link\r\n              to=\"/\"\r\n              className=\"ml-1 font-medium text-gray-700 dark:text-gray-200 hover:underline\"\r\n              onClick={signIn}\r\n            >\r\n              Log In\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}